<div class="container">
    <ion-grid>
        <ion-row>
            <ion-col size="4">
                <mat-card>
                    <mat-card-header>
                        <mat-card-title>企业资质与政策匹配</mat-card-title>
                        <mat-card-subtitle [routerLink]="['/admin/company/item',company ? company.id : 0]" class="link">详情</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <circle-progress *ngIf="matchingStatus"
                                         [percent]="matchingStatus.custCondCount * 100 / matchingStatus.allCondCount"
                                         [radius]="100"
                                         [titleFontSize]="48"
                                         [titleColor]="'#136BFF'"
                                         [unitsFontSize]="24"
                                         [unitsColor]="'#136BFF'"
                                         [subtitleFontSize]="18"
                                         [subtitle]="'企业资质完成度'"
                                         [outerStrokeWidth]="24"
                                         [innerStrokeWidth]="24"
                                         [space]="-24"
                                         [outerStrokeColor]="'#136BFF'"
                                         [innerStrokeColor]="'#FAFAFA'"
                                         [animation]="true"
                                         [startFromZero]="true"
                                         [animationDuration]="300"
                        ></circle-progress>
                        <ion-grid>
                            <ion-row>
                                <ion-col size="8">
                                    <ion-list>
                                        <ion-item lines="none" style="--padding-start:0;--padding-end: 5px">
                                            <ion-label>
                                                <p>最大累计可补贴金额(万元)</p>
                                                <h3 style="font-size: 36px">{{matchingStatus?.totalSubsidyAmtEnd}}</h3>
                                            </ion-label>
                                        </ion-item>
                                    </ion-list>
                                </ion-col>
                                <ion-col size="4">
                                    <ion-list>
                                        <ion-item lines="none" style="--padding-start:5px">
                                            <ion-label>
                                                <p>匹配政策数量</p>
                                                <h3 style="font-size: 36px">{{matchingStatus?.policyCount}}</h3>
                                            </ion-label>
                                        </ion-item>
                                    </ion-list>
                                </ion-col>
                            </ion-row>
                        </ion-grid>
                    </mat-card-content>
                </mat-card>
            </ion-col>
            <ion-col size="3">
                <mat-card class="auto-height">
                    <mat-card-header>
                        <mat-card-title>竞争对手监控</mat-card-title>
                        <mat-card-subtitle class="link" routerLink="/admin/monitor/list">管理</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content style="position: relative">
                        <app-empty title="请添加您需要监控的企业" *ngIf="monitors && monitors.length < 1" (confirm)="addMonitor($event)"></app-empty>
                        <ion-list *ngIf="monitors && monitors.length > 0">
                            <ion-item *ngFor="let item of monitors;let i = index"
                                      [lines]="i + 1 === monitors?.length ? 'none' : ''">
                                <ion-label>
                                    <h3>{{item.companyName}}</h3>
                                </ion-label>
                            </ion-item>
                        </ion-list>
                    </mat-card-content>
                </mat-card>
            </ion-col>
            <ion-col size="5">
                <mat-card class="auto-height">
                    <mat-card-header>
                        <mat-card-title>知产托管</mat-card-title>
                        <mat-card-subtitle routerLink="/admin/trust/list" class="link">添加托管资产</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <app-empty *ngIf="trustStatus && (trustStatus.brandDepositCount === 0 && trustStatus.patentDepositCount === 0)" title="请添加您需要托管的知识产权内容" (confirm)="trust($event)"></app-empty>
                        <ion-grid *ngIf="trustStatus && (trustStatus.brandDepositCount !== 0 || trustStatus.patentDepositCount !== 0)">
                            <ion-row>
                                <ion-col size="4">
                                    <ion-list>
                                        <ion-item lines="none" style="--padding-start:0;--padding-end: 5px">
                                            <ion-label>
                                                <p>托管商标数量</p>
                                                <h3 style="font-size: 36px">{{trustStatus?.brandDepositCount}}</h3>
                                            </ion-label>
                                        </ion-item>
                                    </ion-list>
                                </ion-col>
                                <ion-col size="4">
                                    <ion-list>
                                        <ion-item lines="none" style="--padding-start:5px">
                                            <ion-label>
                                                <p>本月变更</p>
                                                <h3 style="font-size: 36px">{{trustStatus?.brandMonthChangeCount}}</h3>
                                            </ion-label>
                                        </ion-item>
                                    </ion-list>
                                </ion-col>
                                <ion-col size="4">
                                    <ion-list>
                                        <ion-item lines="none" style="--padding-start:5px">
                                            <ion-label>
                                                <p>当前存在风险</p>
                                                <h3 style="font-size: 36px">{{trustStatus?.brandRiskCount}}</h3>
                                            </ion-label>
                                        </ion-item>
                                    </ion-list>
                                </ion-col>
                                <ion-col size="4">
                                    <ion-list>
                                        <ion-item lines="none" style="--padding-start:5px">
                                            <ion-label>
                                                <p>托管专利数量</p>
                                                <h3 style="font-size: 36px">{{trustStatus?.patentDepositCount}}</h3>
                                            </ion-label>
                                        </ion-item>
                                    </ion-list>
                                </ion-col>
                                <ion-col size="4">
                                    <ion-list>
                                        <ion-item lines="none" style="--padding-start:5px">
                                            <ion-label>
                                                <p>本月变更</p>
                                                <h3 style="font-size: 36px">{{trustStatus?.patentMonthChangeCount}}</h3>
                                            </ion-label>
                                        </ion-item>
                                    </ion-list>
                                </ion-col>
                                <ion-col size="4">
                                    <ion-list>
                                        <ion-item lines="none" style="--padding-start:5px">
                                            <ion-label>
                                                <p>当前存在风险</p>
                                                <h3 style="font-size: 36px">{{trustStatus?.patentRiskCount}}</h3>
                                            </ion-label>
                                        </ion-item>
                                    </ion-list>
                                </ion-col>
                            </ion-row>
                        </ion-grid>
                    </mat-card-content>
                </mat-card>
            </ion-col>
            <ion-col size="7">
                <mat-card class="auto-height">
                    <mat-card-header>
                        <mat-card-title>报告中心</mat-card-title>
                        <!--<mat-card-subtitle routerLink="/admin/plan/list">查看更多</mat-card-subtitle>-->
                    </mat-card-header>
                    <mat-card-content>
                        <app-empty *ngIf="plans && risks && plans.length < 1 && risks.length < 1" title="生成报告" (confirm)="plan($event)"></app-empty>
                        <ion-list *ngIf="plans && plans.length > 0">
                            <ion-list-header>
                                企业体检报告
                                <a routerLink="/admin/plan/list" href="javascript:;">更多</a>
                            </ion-list-header>
                            <ion-item *ngFor="let item of plans;let i = index"
                                      [lines]="i + 1 === plans.length ? 'none' : ''">
                                <ion-label><p>{{item.name}}</p></ion-label>
                                <ion-note>{{item.createTime | date : 'yyyy-MM-dd'}}</ion-note>
                            </ion-item>
                        </ion-list>
                        <ion-list *ngIf="risks && risks.length > 0">
                            <ion-list-header>
                                知产风险报告
                                <a routerLink="/admin/risk/list" href="javascript:;">更多</a>
                            </ion-list-header>
                            <ion-item *ngFor="let item of risks;let i = index"
                                      [lines]="i + 1 === risks.length ? 'none' : ''">
                                <ion-label><p>{{item.fileName}}</p></ion-label>
                                <ion-note>{{item.createTime | date : 'yyyy-MM-dd'}}</ion-note>
                            </ion-item>
                        </ion-list>
                    </mat-card-content>
                </mat-card>
            </ion-col>
            <ion-col size="5">
                <mat-card>
                    <mat-card-header>
                        <mat-card-title>知产保险箱</mat-card-title>
                        <mat-card-subtitle routerLink="/admin/box/list" class="link">查看更多</mat-card-subtitle>
                    </mat-card-header>
                    <mat-card-content>
                        <ion-grid>
                            <ion-row>
                                <ion-col size="4">
                                    <ion-list>
                                        <ion-item lines="none" style="--padding-start:0;--padding-end: 5px">
                                            <ion-label>
                                                <p>商标相关内容</p>
                                                <h3 style="font-size: 36px">{{boxStatus?.brandFileCount}}</h3>
                                            </ion-label>
                                        </ion-item>
                                    </ion-list>
                                </ion-col>
                                <ion-col size="4">
                                    <ion-list>
                                        <ion-item lines="none" style="--padding-start:5px">
                                            <ion-label>
                                                <p>专利相关内容</p>
                                                <h3 style="font-size: 36px">{{boxStatus?.patentFileCount}}</h3>
                                            </ion-label>
                                        </ion-item>
                                    </ion-list>
                                </ion-col>
                                <ion-col size="4">
                                    <ion-list>
                                        <ion-item lines="none" style="--padding-start:5px">
                                            <ion-label>
                                                <p>版权相关内容</p>
                                                <h3 style="font-size: 36px">{{boxStatus?.copyrightFileCount}}</h3>
                                            </ion-label>
                                        </ion-item>
                                    </ion-list>
                                </ion-col>
                            </ion-row>
                        </ion-grid>
                    </mat-card-content>
                </mat-card>
                <mat-card>
                    <mat-card-header>
                        <mat-card-title>自助智能服务</mat-card-title>
                    </mat-card-header>
                    <mat-card-content style="height: 220px;position: relative">
                        <app-empty title="自助下单" (confirm)="checkout($event)"></app-empty>
                    </mat-card-content>
                </mat-card>
            </ion-col>
        </ion-row>
    </ion-grid>
</div>
